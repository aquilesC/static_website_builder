{% extends "base.html" %}
{% block main %}
    <nav class="bg-gray-100 border-orange-800 border-l-8 p-4 mt-0 w-full text-4xl">
        <div class="container mx-auto">
            <a class="shadow-none" href="/">
                <span class="font-brand">Aquiles Carattino</span>
            </a>
        </div>
    </nav>
    <div class="flex mt-5 md:w-screen max-w-full lg:max-w-screen-lg">
        <div class="w-full md:w-4/5 lg:max-w-screen-md lg:ml-48">
            <div class="mb-12 bg-white shadow-lg p-1 md:rounded lg:p-10">
                {% block content %}
                    {% if content %}
                        <article class="prose lg:prose-xl h-entry">
                            <h1 class="p-name">{{ title }}</h1>
                            <div class="flex text-xs">
                                <div class="mx-2">
                                    <svg class="h-4 w-4 inline" xmlns="https://www.w3.org/2000/svg" viewBox="0 0 20 20">
                                        <path d="M12.3 3.7l4 4L4 20H0v-4L12.3 3.7zm1.4-1.4L16 0l4 4-2.3 2.3-4-4z"/>
                                    </svg>
                                    <p class="text-xs inline">First published:
                                        <time class="dt-published">{{ page.creation_date }}</time>
                                    </p>
                                </div>
                                <div class="mx-2">
                                    <svg class="h-4 w-4 inline" xmlns="https://www.w3.org/2000/svg" viewBox="0 0 20 20">
                                        <path d="M6 6V2c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4v4a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2h4zm2 0h4a2 2 0 0 1 2 2v4h4V2H8v4zM2 8v10h10V8H2z"/>
                                    </svg>
                                    <p class="text-xs inline">Last Edited:
                                        <time class="dt-updated">{{ page.last_mod }}</time>
                                    </p>
                                </div>
                                <div class="mx-2">
                                    <a href="{{ page.url }}" class="no-underline u-url">
                                        <svg class="h-4 w-4 inline" xmlns="https://www.w3.org/2000/svg"
                                             viewBox="0 0 20 20">
                                            <path d="M9.26 13a2 2 0 0 1 .01-2.01A3 3 0 0 0 9 5H5a3 3 0 0 0 0 6h.08a6.06 6.06 0 0 0 0 2H5A5 5 0 0 1 5 3h4a5 5 0 0 1 .26 10zm1.48-6a2 2 0 0 1-.01 2.01A3 3 0 0 0 11 15h4a3 3 0 0 0 0-6h-.08a6.06 6.06 0 0 0 0-2H15a5 5 0 0 1 0 10h-4a5 5 0 0 1-.26-10z"/>
                                        </svg>
                                    </a>

                                </div>
                            </div>
                            <div class="e-content">
                                {{ content }}
                            </div>

                        </article>
                        <div class="u-author h-card flex">
                            <img src="/{{ static }}/aquiles_square.jpg" class="u-photo h-24 w-24"/>
                            <span class="md:ml-16 p-name">Aquiles Carattino</span>
                            </a>
                        </div>
                        <div class="comments mt-10">
                            <script src="https://utteranc.es/client.js"
                                    repo="aquilesC/aquiles.me"
                                    issue-term="pathname"
                                    label="comment"
                                    theme="github-light"
                                    crossorigin="anonymous"
                                    async>
                            </script>
                        </div>
                    {% else %}
                        <h1>{{ title }}</h1>
                        <p>This element has no content, which means it was automatically created because something else
                            links here. If you want to learn more about how this website works, head to
                            the <a class="wikilink" href="/about">about page</a>.
                        </p>
                        <p class="font-extrabold mb-4">These other pages link here:</p>
                        <ul>
                            {% for link in page.backlinks %}
                                <li><a class="wikilink" href="{{ link.url }}">{{ link.title }}</a></li>
                            {% endfor %}
                        </ul>
                    {% endif %}
                {% endblock content %}
                <div class="bg-blue-100">
                    <p class="md:mt-10 md:p-8 shadow-lg">
                        If you have any comments regarding what you read, you can reach me by email:
                        <b>hey@aquiles.me</b>,
                        or you can ping me via direct message on Twitter <a
                            href="https://twitter.com/aquicarattino">@aquicarattino</a>.
                    </p>
                </div>
            </div>
        </div>
        <div class="w-full md:w-1/5 bg-white md:shadow-lg px-2 text-center fixed bottom-0 md:pt-8 md:right-0 h-24 md:h-full overflow-x-auto md:overflow-x-hidden md:overflow-y-auto md:border-r-4 md:border-gray-600">
            <div class="md:relative mx-auto ">
                <h4 class="text-2xl font-serif font-semibold">Backlinks</h4>
                {% if not page.backlink|length == 0 %}
                    <div class="text-sm">Nothing links here, how did you reach this page then?</div>
                {% else %}
                    <ul class="list-reset flex flex-row md:flex-col md:mb-1 text-center md:text-left"
                        style="list-style: none">
                        {% for link in page.backlinks %}
                            <li class="mr-2 mb-0 flex-1 md:mb-2">
                                <a href="{{ link.url }}"
                                   class="wikilink text-sm shadow-none block py-1 md:py-1 pl-1 align-middle">{{ link.title }}
                                </a>
                            </li>
                        {% endfor %}
                    </ul>
                {% endif %}
            </div>
        </div>
    </div>
{% endblock main %}